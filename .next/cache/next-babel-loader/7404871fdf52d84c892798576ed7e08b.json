{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\buianh\\\\Desktop\\\\Github\\\\React-onghutsach\\\\components\\\\detail-image.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nconst collection = [{\n  src: './static/img/cobang1.png',\n  caption: 'anhcobang1'\n}, {\n  src: './static/img/cobang2.jpg',\n  caption: 'demo'\n}, {\n  src: './static/img/cobangkho2.jpg',\n  caption: 'demo'\n}, {\n  src: './static/img/cobang4.jpg',\n  caption: 'demo'\n}, {\n  src: './static/img/background-danhsach.png',\n  caption: 'demo'\n}, {\n  src: './static/img/img7.jpg',\n  caption: 'demo'\n}];\nconst ratio = `3:2`;\nexport default class Showimage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      slideIndex: 0\n    };\n    const ratioWHArray = ratio.split(\":\");\n    this.ratioWH = ratioWHArray[0] / ratioWHArray[1];\n    this.backward = this.backward.bind(this);\n    this.forward = this.forward.bind(this);\n    this.setSlideIndex = this.setSlideIndex.bind(this);\n    this.getNewSlideIndex = this.getNewSlideIndex.bind(this);\n    this.updateDimensions = this.updateDimensions.bind(this);\n  }\n\n  getNewSlideIndex(step) {\n    const slideIndex = this.state.slideIndex;\n    const numberSlide = collection.length;\n    let newSlideIndex = slideIndex + step;\n    if (newSlideIndex >= numberSlide) newSlideIndex = 0;else if (newSlideIndex < 0) newSlideIndex = numberSlide - 1;\n    return newSlideIndex;\n  }\n\n  backward() {\n    this.setState({\n      slideIndex: this.getNewSlideIndex(-1)\n    });\n  } // Tiến tới ảnh phía sau, tức index tăng 1 => step = 1\n\n\n  forward() {\n    this.setState({\n      slideIndex: this.getNewSlideIndex(1)\n    });\n  } // Xác định slideIndex nào sẽ được active\n\n\n  setSlideIndex(index) {\n    this.setState({\n      slideIndex: index\n    });\n  } // resize ảnh theo khung hình\n\n\n  updateDimensions() {\n    this.containerElm.style.height = `${this.containerElm.offsetWidth / this.ratioWH}px`;\n    this.containerBottomElm.style.height = `${this.containerBottomElm.offsetWidth / collection.length / this.ratioWH}px`;\n  }\n\n  componentDidMount() {\n    this.rootElm = ReactDOM.findDOMNode(this);\n    this.containerElm = this.rootElm.querySelector(\".container\");\n    this.containerBottomElm = this.rootElm.querySelector(\".container-bottom\");\n    this.updateDimensions();\n    window.addEventListener(\"resize\", this.updateDimensions);\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"lp-slideshow-gallery\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, collection.map((image, index) => {\n      return __jsx(\"div\", {\n        key: index,\n        className: `slide ${this.state.slideIndex === index ? \"active\" : \"\"}`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"number-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, `${index + 1} / ${collection.length}`), __jsx(\"img\", {\n        className: \"image\",\n        src: image.src,\n        alt: image.caption,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }));\n    }), __jsx(\"span\", {\n      className: \"prev\",\n      onClick: this.backward,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"\\u276E\"), __jsx(\"span\", {\n      className: \"next\",\n      onClick: this.forward,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"\\u276F\")), __jsx(\"div\", {\n      className: \"container-bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, collection.map((image, index) => {\n      return __jsx(\"img\", {\n        key: index,\n        src: image.src,\n        alt: image.caption,\n        className: `image ${this.state.slideIndex === index ? \"active\" : \"\"}`,\n        onClick: () => this.setSlideIndex(index),\n        style: {\n          width: `${1 / collection.length * 100}%`,\n          height: `100%`\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      });\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\buianh\\Desktop\\Github\\React-onghutsach\\components\\detail-image.js"],"names":["React","ReactDOM","collection","src","caption","ratio","Showimage","Component","constructor","props","state","slideIndex","ratioWHArray","split","ratioWH","backward","bind","forward","setSlideIndex","getNewSlideIndex","updateDimensions","step","numberSlide","length","newSlideIndex","setState","index","containerElm","style","height","offsetWidth","containerBottomElm","componentDidMount","rootElm","findDOMNode","querySelector","window","addEventListener","render","map","image","width"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nconst collection = [\r\n    {\r\n        src: './static/img/cobang1.png',\r\n        caption: 'anhcobang1'\r\n    },\r\n    {\r\n        src: './static/img/cobang2.jpg',\r\n        caption: 'demo'\r\n    },\r\n    {\r\n        src: './static/img/cobangkho2.jpg',\r\n        caption: 'demo'\r\n    },\r\n    {\r\n        src: './static/img/cobang4.jpg',\r\n        caption: 'demo'\r\n    },\r\n    {\r\n        src: './static/img/background-danhsach.png',\r\n        caption: 'demo'\r\n    },\r\n    {\r\n        src: './static/img/img7.jpg',\r\n        caption: 'demo'\r\n    },\r\n];\r\nconst ratio = `3:2`;\r\n\r\n\r\nexport default class Showimage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            slideIndex: 0,\r\n        }\r\n        const ratioWHArray = ratio.split(\":\");\r\n        this.ratioWH = ratioWHArray[0] / ratioWHArray[1];\r\n\r\n        this.backward = this.backward.bind(this);\r\n        this.forward = this.forward.bind(this);\r\n        this.setSlideIndex = this.setSlideIndex.bind(this);\r\n        this.getNewSlideIndex = this.getNewSlideIndex.bind(this);\r\n        this.updateDimensions = this.updateDimensions.bind(this);\r\n    }\r\n    getNewSlideIndex(step) {\r\n        const slideIndex = this.state.slideIndex;\r\n        const numberSlide = collection.length;\r\n\r\n        let newSlideIndex = slideIndex + step;\r\n\r\n        if (newSlideIndex >= numberSlide) newSlideIndex = 0;\r\n        else if (newSlideIndex < 0) newSlideIndex = numberSlide - 1;\r\n\r\n        return newSlideIndex;\r\n    }\r\n    backward() {\r\n        this.setState({\r\n            slideIndex: this.getNewSlideIndex(-1)\r\n        });\r\n    }\r\n\r\n    // Tiến tới ảnh phía sau, tức index tăng 1 => step = 1\r\n    forward() {\r\n        this.setState({\r\n            slideIndex: this.getNewSlideIndex(1)\r\n        });\r\n    }\r\n\r\n    // Xác định slideIndex nào sẽ được active\r\n    setSlideIndex(index) {\r\n        this.setState({\r\n            slideIndex: index\r\n        })\r\n    }\r\n    // resize ảnh theo khung hình\r\n    updateDimensions() {\r\n        this.containerElm.style.height\r\n            = `${this.containerElm.offsetWidth / this.ratioWH}px`;\r\n        this.containerBottomElm.style.height\r\n            = `${this.containerBottomElm.offsetWidth / collection.length / this.ratioWH}px`;\r\n    }\r\n    componentDidMount() {\r\n        this.rootElm = ReactDOM.findDOMNode(this);\r\n        this.containerElm = this.rootElm.querySelector(\".container\");\r\n        this.containerBottomElm = this.rootElm.querySelector(\".container-bottom\");\r\n        this.updateDimensions();\r\n        window.addEventListener(\"resize\", this.updateDimensions);\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"lp-slideshow-gallery\">\r\n                <div className=\"container\">\r\n                    {\r\n                        collection.map((image, index) => {\r\n                            return (\r\n                                <div\r\n                                    key={index}\r\n                                    className={\r\n                                        `slide ${this.state.slideIndex === index ? \"active\" : \"\"}`\r\n                                    }\r\n                                >\r\n                                    <div className=\"number-text\">\r\n                                        {`${index + 1} / ${collection.length}`}\r\n                                    </div>\r\n                                    <img className=\"image\" src={image.src} alt={image.caption} />\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n\r\n                    <span className=\"prev\" onClick={this.backward}>❮</span>\r\n                    <span className=\"next\" onClick={this.forward}>❯</span>\r\n                </div>\r\n\r\n                <div className=\"container-bottom\">\r\n                    {\r\n                        collection.map((image, index) => {\r\n                            return (\r\n                                <img\r\n                                    key={index}\r\n                                    src={image.src}\r\n                                    alt={image.caption}\r\n                                    className={\r\n                                        `image ${this.state.slideIndex === index ? \"active\" : \"\"}`\r\n                                    }\r\n                                    onClick={() => this.setSlideIndex(index)}\r\n                                    style={{\r\n                                        width: `${1 / collection.length * 100}%`,\r\n                                        height: `100%`\r\n                                    }}\r\n                                />\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}