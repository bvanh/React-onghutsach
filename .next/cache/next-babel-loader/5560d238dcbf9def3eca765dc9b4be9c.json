{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\buianh\\\\Desktop\\\\Github\\\\React-onghutsach\\\\components\\\\detail-image.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nvar collection = [{\n  src: './static/img/cobang1.png',\n  caption: 'anhcobang1'\n}, {\n  src: './static/img/cobang2.jpg',\n  caption: 'demo'\n}, {\n  src: './static/img/cobangkho2.jpg',\n  caption: 'demo'\n}, {\n  src: './static/img/cobang4.jpg',\n  caption: 'demo'\n}, {\n  src: './static/img/background-danhsach.png',\n  caption: 'demo'\n}, {\n  src: './static/img/img7.jpg',\n  caption: 'demo'\n}];\nvar ratio = \"3:2\";\n\nvar Showimage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Showimage, _React$Component);\n\n  function Showimage(props) {\n    var _this;\n\n    _classCallCheck(this, Showimage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Showimage).call(this, props));\n    _this.state = {\n      slideIndex: 0\n    };\n    var ratioWHArray = ratio.split(\":\");\n    _this.ratioWH = ratioWHArray[0] / ratioWHArray[1];\n    _this.backward = _this.backward.bind(_assertThisInitialized(_this));\n    _this.forward = _this.forward.bind(_assertThisInitialized(_this));\n    _this.setSlideIndex = _this.setSlideIndex.bind(_assertThisInitialized(_this));\n    _this.getNewSlideIndex = _this.getNewSlideIndex.bind(_assertThisInitialized(_this));\n    _this.updateDimensions = _this.updateDimensions.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Showimage, [{\n    key: \"getNewSlideIndex\",\n    value: function getNewSlideIndex(step) {\n      var slideIndex = this.state.slideIndex;\n      var numberSlide = collection.length;\n      var newSlideIndex = slideIndex + step;\n      if (newSlideIndex >= numberSlide) newSlideIndex = 0;else if (newSlideIndex < 0) newSlideIndex = numberSlide - 1;\n      return newSlideIndex;\n    }\n  }, {\n    key: \"backward\",\n    value: function backward() {\n      this.setState({\n        slideIndex: this.getNewSlideIndex(-1)\n      });\n    } // Tiến tới ảnh phía sau, tức index tăng 1 => step = 1\n\n  }, {\n    key: \"forward\",\n    value: function forward() {\n      this.setState({\n        slideIndex: this.getNewSlideIndex(1)\n      });\n    } // Xác định slideIndex nào sẽ được active\n\n  }, {\n    key: \"setSlideIndex\",\n    value: function setSlideIndex(index) {\n      this.setState({\n        slideIndex: index\n      });\n    } // resize ảnh theo khung hình\n\n  }, {\n    key: \"updateDimensions\",\n    value: function updateDimensions() {\n      this.containerElm.style.height = \"\".concat(this.containerElm.offsetWidth / this.ratioWH, \"px\");\n      this.containerBottomElm.style.height = \"\".concat(this.containerBottomElm.offsetWidth / collection.length / this.ratioWH, \"px\");\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.rootElm = ReactDOM.findDOMNode(this);\n      this.containerElm = this.rootElm.querySelector(\".container\");\n      this.containerBottomElm = this.rootElm.querySelector(\".container-bottom\");\n      this.updateDimensions();\n      window.addEventListener(\"resize\", this.updateDimensions);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(\"div\", {\n        className: \"lp-slideshow-gallery\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, collection.map(function (image, index) {\n        return __jsx(\"div\", {\n          key: index,\n          className: \"slide \".concat(_this2.state.slideIndex === index ? \"active\" : \"\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, __jsx(\"div\", {\n          className: \"number-text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, \"\".concat(index + 1, \" / \").concat(collection.length)), __jsx(\"img\", {\n          className: \"image\",\n          src: image.src,\n          alt: image.caption,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }));\n      }), __jsx(\"span\", {\n        className: \"prev\",\n        onClick: this.backward,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"\\u276E\"), __jsx(\"span\", {\n        className: \"next\",\n        onClick: this.forward,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"\\u276F\")), __jsx(\"div\", {\n        className: \"container-bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, collection.map(function (image, index) {\n        return __jsx(\"img\", {\n          key: index,\n          src: image.src,\n          alt: image.caption,\n          className: \"image \".concat(_this2.state.slideIndex === index ? \"active\" : \"\"),\n          onClick: function onClick() {\n            return _this2.setSlideIndex(index);\n          },\n          style: {\n            width: \"\".concat(1 / collection.length * 100, \"%\"),\n            height: \"100%\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        });\n      })));\n    }\n  }]);\n\n  return Showimage;\n}(React.Component);\n\nexport { Showimage as default };","map":{"version":3,"sources":["C:\\Users\\buianh\\Desktop\\Github\\React-onghutsach\\components\\detail-image.js"],"names":["React","ReactDOM","collection","src","caption","ratio","Showimage","props","state","slideIndex","ratioWHArray","split","ratioWH","backward","bind","forward","setSlideIndex","getNewSlideIndex","updateDimensions","step","numberSlide","length","newSlideIndex","setState","index","containerElm","style","height","offsetWidth","containerBottomElm","rootElm","findDOMNode","querySelector","window","addEventListener","map","image","width","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nconst collection = [\r\n    {\r\n        src: './static/img/cobang1.png',\r\n        caption: 'anhcobang1'\r\n    },\r\n    {\r\n        src: './static/img/cobang2.jpg',\r\n        caption: 'demo'\r\n    },\r\n    {\r\n        src: './static/img/cobangkho2.jpg',\r\n        caption: 'demo'\r\n    },\r\n    {\r\n        src: './static/img/cobang4.jpg',\r\n        caption: 'demo'\r\n    },\r\n    {\r\n        src: './static/img/background-danhsach.png',\r\n        caption: 'demo'\r\n    },\r\n    {\r\n        src: './static/img/img7.jpg',\r\n        caption: 'demo'\r\n    },\r\n];\r\nconst ratio = `3:2`;\r\n\r\n\r\nexport default class Showimage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            slideIndex: 0,\r\n        }\r\n        const ratioWHArray = ratio.split(\":\");\r\n        this.ratioWH = ratioWHArray[0] / ratioWHArray[1];\r\n\r\n        this.backward = this.backward.bind(this);\r\n        this.forward = this.forward.bind(this);\r\n        this.setSlideIndex = this.setSlideIndex.bind(this);\r\n        this.getNewSlideIndex = this.getNewSlideIndex.bind(this);\r\n        this.updateDimensions = this.updateDimensions.bind(this);\r\n    }\r\n    getNewSlideIndex(step) {\r\n        const slideIndex = this.state.slideIndex;\r\n        const numberSlide = collection.length;\r\n\r\n        let newSlideIndex = slideIndex + step;\r\n\r\n        if (newSlideIndex >= numberSlide) newSlideIndex = 0;\r\n        else if (newSlideIndex < 0) newSlideIndex = numberSlide - 1;\r\n\r\n        return newSlideIndex;\r\n    }\r\n    backward() {\r\n        this.setState({\r\n            slideIndex: this.getNewSlideIndex(-1)\r\n        });\r\n    }\r\n\r\n    // Tiến tới ảnh phía sau, tức index tăng 1 => step = 1\r\n    forward() {\r\n        this.setState({\r\n            slideIndex: this.getNewSlideIndex(1)\r\n        });\r\n    }\r\n\r\n    // Xác định slideIndex nào sẽ được active\r\n    setSlideIndex(index) {\r\n        this.setState({\r\n            slideIndex: index\r\n        })\r\n    }\r\n    // resize ảnh theo khung hình\r\n    updateDimensions() {\r\n        this.containerElm.style.height\r\n            = `${this.containerElm.offsetWidth / this.ratioWH}px`;\r\n        this.containerBottomElm.style.height\r\n            = `${this.containerBottomElm.offsetWidth / collection.length / this.ratioWH}px`;\r\n    }\r\n    componentDidMount() {\r\n        this.rootElm = ReactDOM.findDOMNode(this);\r\n        this.containerElm = this.rootElm.querySelector(\".container\");\r\n        this.containerBottomElm = this.rootElm.querySelector(\".container-bottom\");\r\n        this.updateDimensions();\r\n        window.addEventListener(\"resize\", this.updateDimensions);\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"lp-slideshow-gallery\">\r\n                <div className=\"container\">\r\n                    {\r\n                        collection.map((image, index) => {\r\n                            return (\r\n                                <div\r\n                                    key={index}\r\n                                    className={\r\n                                        `slide ${this.state.slideIndex === index ? \"active\" : \"\"}`\r\n                                    }\r\n                                >\r\n                                    <div className=\"number-text\">\r\n                                        {`${index + 1} / ${collection.length}`}\r\n                                    </div>\r\n                                    <img className=\"image\" src={image.src} alt={image.caption} />\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n\r\n                    <span className=\"prev\" onClick={this.backward}>❮</span>\r\n                    <span className=\"next\" onClick={this.forward}>❯</span>\r\n                </div>\r\n\r\n                <div className=\"container-bottom\">\r\n                    {\r\n                        collection.map((image, index) => {\r\n                            return (\r\n                                <img\r\n                                    key={index}\r\n                                    src={image.src}\r\n                                    alt={image.caption}\r\n                                    className={\r\n                                        `image ${this.state.slideIndex === index ? \"active\" : \"\"}`\r\n                                    }\r\n                                    onClick={() => this.setSlideIndex(index)}\r\n                                    style={{\r\n                                        width: `${1 / collection.length * 100}%`,\r\n                                        height: `100%`\r\n                                    }}\r\n                                />\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}